<!DOCTYPE html>
<html lang="jp">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" id="favicon">
    <link rel="stylesheet" href="css/style.css">
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <title>YourMars</title>
</head>
<body>
    <div class="header">
        <div class="logo">
            <img src="img/logo_white.png" alt="チームロゴ">
            <p>～あなたの火星をみるアプリ～</p>
        </div>
        <!-- <ul>
            <li><a href="https://seesaawiki.jp/hololivetv/d/%A4%B5%A4%AF%A4%E9%A4%DF%A4%B3%A1%DA%B8%EC%CF%BF%A1%DB">さくらみこ語録</a></li>
            <li><a href="https://www.youtube.com/channel/UC-hM6YJuNYVAmUWxeIr9FeA">YouTube</a></li>
            <li><a href="https://twitter.com/sakuramiko35?s=20&t=qZxfDM8o8f2kJ9v5p7og0g">Twitter</a></li>
        </ul> -->
    </div>
    <!-- <div class="container">
        <div class="header_img">
            <img src="img/mars_globes_wet_dry.png" alt="nasa">
        </div> -->
        <!-- <div class="container_movies">
            <h2>最近のアーカイブにぇ</h2>
            <div class="movies_block">
                <div class="movie">
                    <img src="img/samnale_1.jpg" alt="">
                    <div class="ttl">しょぼんのるきみん！</div>
                </div>
                <div class="movies">
                    <img src="img/samnale_2.jpg" alt="">
                    <div class="ttl">酔っ払いバンカラマッチ！！</div>
                </div>
            </div>
        </div>
    </div> -->
    <div class="nasa_test">
        <script src="get_position.js" ></script>
        <button onclick="test()">位置情報を取得する</button>
        <p>[緯度, 経度] = [<span id="LatLon"></span>]</p>
        <h2>↓全方位画像をみる↓</h2>
        <div class = "nasa_link">
            <h1><a href="./panorama.html">パノラマ</a></h1>
        </div>
        <!-- <py-script>
            import pandas as pd

            #天気API取得コード
            base_url="https://api.open-meteo.com/v1/forecast?"
            lat=data['latitude']
            lon=data['longitude']
            url = base_url + "latitude=" + lat + "&"  + "longitude="+ lon + "&hourly=temperature_2m,surface_pressure&daily=temperature_2m_max,temperature_2m_min,windspeed_10m_max&timezone=Asia%2FTokyo"

            re = requests.get(url).json()
            #pprint.pprint(re)
            max_earth_temp=re['daily']['temperature_2m_max'][0]
            min_earth_temp=re['daily']['temperature_2m_min'][0]
            max_earth_wind=re['daily']['windspeed_10m_max'][0]

            #print(len(re['hourly']['surface_pressure']))
            pressure=0
            for i in re['hourly']['surface_pressure'][0:24]:
                pressure+=i

            earth_pressure=pressure/24
            #print(earth_pressure)

            #shio_weather=pd.read_csv("data.csv")
            #print(shio_weather.head())

            #地球の気象データ
            X=pd.read_csv("weather.csv",encoding="Shift-JIS")
            shio_weather=X.copy()
            # check what the character encoding might be
            shio_weather=shio_weather.drop(shio_weather.columns[[4]], axis=1)
            shio_weather.to_csv("shio_weather.csv")
            mean_list=shio_weather.mean()
            #print(mean_list)
            ave_max_temp=mean_list[4]
            ave_min_temp=mean_list[3]
            ave_press=mean_list[1]
            ave_wind=mean_list[2]
            std_list=shio_weather.std()
            #print(std_list)
            std_max_temp=std_list[4]
            std_min_temp=std_list[3]
            std_press=std_list[1]
            std_wind=std_list[2]

            standarized_max_earth_temp=(max_earth_temp-ave_max_temp)/std_max_temp
            standarized_min_earth_temp=(min_earth_temp-ave_min_temp)/std_min_temp
            standarized_earth_press=(earth_pressure-ave_press)/std_press
            standarized_earth_wind=(max_earth_wind-ave_wind)/std_wind
            standarized_earth_list=[standarized_max_earth_temp,standarized_min_earth_temp,standarized_earth_press]

            #火星の気象データ
            """mars_data=pd.read_csv('Mars_Dataset.csv')
            mars_data=mars_data.drop(mars_data.columns[[0,1,2,3,4,8,9,10,11,12,13]], axis=1)
            """
            #mars_data.fillna(method='bfill', axis=0).fillna(0)
            #mars_mean_list=mars_data.mean()
            #mars_std_list=mars_data.std()

            #print(mars_mean_list)
            #print(mars_std_list)
            ave_max_mars_temp=2.017
            ave_min_mars_temp=-80.31
            ave_mars_press=828.79
            ave_mars_list=[ave_max_mars_temp,ave_min_mars_temp,ave_mars_press]
            std_max_mars_temp=9.40
            std_min_mars_temp=8.84
            std_mars_press=57.11
            std_mars_list=[std_max_mars_temp,std_min_mars_temp,std_mars_press]
            mars_expect_list=[]


            for i in range(3):
                mars_expect_list.append(standarized_earth_list[i]*std_mars_list[i]+ave_mars_list[i])
            mars_expect_list.append(max_earth_wind)
            print(mars_expect_list)
        </py-script> -->
    </div>
    <footer>
        <p>created by team KOB</p>
    </footer>
</body>
</html>